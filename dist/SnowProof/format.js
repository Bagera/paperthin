window.storyFormat({"name":"snowproof","version":"1.0.0","description":"A proofing format for SnowMan","author":"Victor Baquero Wihlborg","image":"icon.svg","license":"Public Domain","proofing":true,"source":"<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n\t\t<title>{{STORY_NAME}}\n</title>\n\t\t<style>html {\n  box-sizing: border-box;\n}\n*, *:before, *:after {\n  box-sizing: inherit;\n}\n</style>\n    <script src=\"https://cdn.jsdelivr.net/npm/marked/marked.min.js\"></script>\n<meta charset=\"utf-8\">\n<style>\nbody\n{\n\tfont: 10pt Cousine, monospace;\n\tmargin: 2em;\n}\n\nh1\n{\n\tfont-size: 14pt;\n\ttext-align: center;\n\tmargin-bottom: 2em;\n}\n\ntw-storydata\n{\n\tdisplay: block !important;\n}\n\ntw-tag\n{\n\t--tag-color: \"black\"\n\tdisplay: inline-block;\n\tcolor: white;\n\tbackground-color: black;\n}\ntw-tag::after\n{\n\tdisplay: inline-block;\n\tcontent: attr(name);\n\tpadding: 0.25em;\n\tborder-radius: 0.25em;\n\tcolor: currentColor;\n\tbackground-color: var(--tag-color);\n}\ntw-passagedata\n{\n\tdisplay: block !important;\n\tline-height: 200%;\n\tmargin-bottom: 2em;\n\twhite-space: pre-wrap;\n}\n\ntw-passagedata + tw-passagedata\n{\n\tborder-top: 1pt dashed black;\n\tpadding-top: 2em;\n}\n\ntw-passagedata:before\n{\n\tcontent: attr(name);\n\tdisplay: block;\n\tfont-weight: bold;\n}\n</style>\n</head>\n\n<body>\n\n<h1>{{STORY_NAME}}\n</h1>\n{{STORY_DATA}}\n\n\n<script>\n\twindow.onload = function () {\n\t  const tags = document.querySelectorAll(\"tw-tag\");\n\t  const passages = document.querySelectorAll(\"tw-passagedata\");\n\t\n\t  tags.forEach((tag) => {\n\t    console.log(tag);\n\t    tag.style.setProperty(\"--tag-color\", tag.getAttribute(\"color\"));\n\t  });\n\t\n\t  passages.forEach((passage) => {\n\t    passage.innerHTML = marked.parse(passage.innerHTML);\n\t  });\n\t};\n</script>\n\n</body>\n</html>\n"});